<!DOCTYPE html>
<html>
<head>
    <title></title>
    <!--styles -->
    <link rel="stylesheet" type="text/css" href="styles/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="styles/base.css">
	
    <!--scripts-->
    <script src="lib/angular.min.js"></script>
    <script src="lib/ui-bootstrap.min.js"></script>
    <script src="lib/ng-sortable.min.js"></script>
    <script src="app.js"></script>
	
    <script src="scripts/services/BoardManipulator.js"></script>
    <script src="scripts/services/BoardDataFactory.js"></script>
    <script src="scripts/services/BoardService.js"></script>
    <script src="scripts/controllers/PresentController.js"></script>	
    <script src="scripts/flow/flow.js"></script>
    <script src="scripts/flow/fusty-flow.js"></script>
    <script src="scripts/flow/fusty-flow-factory.js"></script>
    <script src="scripts/flow/ng-flow.js"></script>

</head>
<body ng-app="ng-app">

	<div ng-model="presentData" id="board" ng-controller="PresentController" flow-prevent-drop flow-drag-enter="dropClass='drag-over'" flow-drag-leave="dropClass=''">
	<div class="wrapper">
		<section>
			<div flow-init flow-files-submitted="$flow.upload()" flow-file-added="!!{png:1,gif:1,jpg:1,jpeg:1}[$file.getExtension()]" flow-file-success="addNewCard($file,presentData.columns[0])">
				<div class="drop" flow-drop ng-class="dropClass">
					<span class="btn btn-default" flow-btn>Upload Image</span>
					<span class="btn btn-default" flow-btn flow-directory ng-show="$flow.supportDirectory">Upload Folder of Images</span>
					<b>OR</b>
					Drag And Drop your images here
				</div>
				<div class="alert alert-danger" ng-class="alert" role="alert"> Слишком большой размер изображения! Допустимо до 5мб.</div>
				<br/>
				
				<div id="columns" class="row">
					<div class="column_present" ng-repeat="column in presentData.columns" data-columnindex="{{$index}}" id="column{{$index}}">
						<div class="column">
							<div class="columnHeader">
								<a title="remove column" class="btn btn-xs btn-danger removeColumn" ng-click="removeColumn(column)">remove {{column.name}}</a>
								<span>{{column.name}} ({{column.cards.length}})</span>
							</div>
							<ul class="cards card-list" as-sortable="presentSortOptions" ng-model="column.cards">
								<li class="card" ng-repeat="card in column.cards" as-sortable-item ng-include="'views/partials/card.html'"></li>
							</ul>
						</div>
					</div>
					<button ng-click="addNewColumn()" class="btn btn-success addNewColumn">Add new presentation</button>
				</div>
			</div>
		</section>
    </div>
	</div>
</body>
</html>